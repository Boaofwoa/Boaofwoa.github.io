<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PTP</title>
    <link href="style.css" rel="stylesheet" type="text/css">
    
    <style>
        #button2 {
            background-color: #ffffff;
            border-width: 2px;
            color: rgb(0, 0, 0);
            border-color: #39ad73;
        
    }
        </style>
          <style>
            #button {
                background-color: #ffffff;
                border-width: 2px;
                color: rgb(0, 0, 0);
               border-color: #39ad73;
               width: 80px;
            
        }
            </style>
            <style>
                #span3
                {
                    font-size: large;

                }

            </style>
</head>
<body>
   
<center>
<table>
    <tbody>
        <tr>
            <td colspan="3">
            <textarea name="Tekts" id="Tekts" cols="130" rows="30" style="border:outset 3px #39ad73;" autocapitalize="auto" placeholder="Tu Pisz"></textarea>
            </td>
                </tr>
            <tr>
                <td>
                <div id="NazwaPliku">
                        <button disabled id="button2">Nazwa Pliku: </button>
                     </div>
                </td>
                <td>
                    <input id="Nazwa">
                </td>
                <td>
                    <button onclick="ZapiszPlik()"id="button" >Zapisz</button>

                </td>
            </tr>
            <div>

                <script type="text/javascript" charset="utf-8">
                    let a;
                    let time;
                    setInterval(() => {
                      a = new Date();
                      time = a.getHours() + ':' + a.getMinutes() + ':' + a.getSeconds();
                      document.getElementById('time').innerHTML = time;
                    }, 1000);
                  </script>
                  <span id="span3">Godzina: </span>
                  <span id="time"></span>  
    
              
            </div>
           
          


    </tbody>
   




</table>
</center>
<script type="text/javascript">
    function ZapiszPlik()
    {
       var textToSave = document.getElementById("Tekts").value;//vartosc to co napisane w srodku
       var textToSaveAsBlob = new Blob([textToSave], {type:"text/plain"});
       var textToSaveAsURL = window.URL.createObjectURL(textToSaveAsBlob);//plik
       var fileNameToSaveAs = 
       document.getElementById("Nazwa").value;//to co napisane w inpucie
       
       var downloadLink = document.createElement("a");
       downloadLink.download = fileNameToSaveAs;
       downloadLink.innerHTML = "Pobierz";
       downloadLink.href = textToSaveAsURL;
       downloadLink.onclick = destroyClickedElement;
       downloadLink.style.display = "none";
       document.body.appendChild(downloadLink);

       downloadLink.click();
    }
    function destroyClickedElement(event)
{
document.body.removeChild(event.target);

    }



</script>



   



</body>
</html>